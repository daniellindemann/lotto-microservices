# tye application configuration file
# read all about it at https://github.com/dotnet/tye
#
# when you've given us a try, we'd love to know what you think:
#    https://aka.ms/AA7q20u
#
# define global settings here
name: lotto-service # application name
registry: localhost:4999

# define multiple services here
services:
- name: RandomNumberService
  project: src/RandomNumberService/RandomNumberService.csproj
  replicas: 2
  bindings:
  - name: http
    port: 5000
    protocol: http
  - name: https
    port: 5001
    protocol: https
- name: LottoService
  project: src/LottoService/LottoService.csproj
  replicas: 2
  env:
  - name: RandomNumberService__Url
    value: http://randomnumberservice:5000/
  bindings:
  - name: http
    port: 5002
    protocol: http
  - name: https
    port: 5003
    protocol: https
- name: Web
  project: src/Web/Web.csproj
  env:
  - name: Api
    value: http://lottoservice:5002
  bindings:
  - name: http
    port: 5004
    protocol: http
  - name: https
    port: 5005
    protocol: https
